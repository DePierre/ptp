<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome! &mdash; ptp 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ptp 0.1.0 documentation" href="index.html" />
    <link rel="next" title="Write our own support" href="contribute.html" />
    <link rel="prev" title="Getting started" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contribute.html" title="Write our own support"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Getting started"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ptp 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome">
<h1>Welcome!<a class="headerlink" href="#welcome" title="Permalink to this headline">¶</a></h1>
<p>Here we present the <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a> (<em>Pentesters&#8217; Tools Parser</em>) project and answer
the <em>What is it? What does it do? Why does it do it? How does it do it?</em>
questions.</p>
<p>The project has been developed during the <a class="reference external" href="https://www.google-melange.com/gsoc/homepage/google/gsoc2014">Google Summer of Code 2014, 10th
edition</a>, in
order to create an <a class="reference external" href="https://www.owasp.org/index.php/GSoC2014_Ideas#OWASP_OWTF_-_Automated_Vulnerability_Severity_Rankings">automated ranking system</a>
for the <a class="reference external" href="https://www.owasp.org/index.php/OWASP_OWTF">OWASP - OWTF project</a>.</p>
<div class="section" id="owasp-owtf-in-a-word">
<h2>OWASP - OWTF in a word<a class="headerlink" href="#owasp-owtf-in-a-word" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://www.owasp.org/index.php/OWASP_OWTF">OWASP - OWTF project</a>
provides an efficient approach to combine the power of automation with the
out-of-the-box thinking that only the user can provide.</p>
<p>It gathers a complete set of plugins and merges their results into an
interactive report. The user has then the possibility to add notes, to change
details and to add media like screenshots in order to have a complete report.</p>
</div>
<div class="section" id="the-goals-aimed-by-ptp">
<h2>The goals aimed by <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a><a class="headerlink" href="#the-goals-aimed-by-ptp" title="Permalink to this headline">¶</a></h2>
<p>The primary goal of <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a> is to enhance OWASP - OWTF in order to provide
an automated ranking for each plugin. This will allow the user to focus
attention on the most likely weak areas of a web application or network first,
which will be valuable to efficiently use the remaining time in a penetration
assessment.</p>
<p>Instead of evaluating every plugins run by OWASP - OWTF and defining the
rankings for each of them, thanks to <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a>, the user will be able to focus
on the ones that have been ranked with the highest risks. The user is then able
to confirm or override the automated rankings since we estimate that she/he is
the only one that can accurately detect the false positives.</p>
<p>When developing the automated ranking system, <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a>&#8216;s main goal was joined
with a secondary one.  Apart from its main feature which is <strong>ranking the
results from security tools reports</strong>, it also provides an <strong>unified way to
reuse these reports directly in your python code</strong>, without having to deal with
complex parsing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The long-term objective for <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a> is to support all security tools and
tests. But <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a> is in its early development phase and only supports
the main ones for now.</p>
</div>
</div>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>The first step is to clone the repository of the project:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git clone https://github.com/owtf/ptp.git
</pre></div>
</div>
<p>Then the script <cite>setup.py</cite> must be run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./setup.py install
</pre></div>
</div>
</div>
<div class="section" id="basic-usages">
<h1>Basic usages<a class="headerlink" href="#basic-usages" title="Permalink to this headline">¶</a></h1>
<div class="section" id="auto-detection-mode">
<h2>Auto-detection mode<a class="headerlink" href="#auto-detection-mode" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a> module provides the <a class="reference internal" href="ptp.html#ptp.PTP" title="ptp.PTP"><tt class="xref py py-class docutils literal"><span class="pre">ptp.PTP</span></tt></a> class that exposes the
public API of the library.</p>
<p>The simplest way to use <a class="reference internal" href="ptp.html#ptp.PTP" title="ptp.PTP"><tt class="xref py py-class docutils literal"><span class="pre">ptp.PTP</span></tt></a> is with the <strong>auto-detection mode</strong>.
This mode tries to reduce as much as possible our work by auto-detecting which
tool has generated a given report and use the corresponding
<a class="reference internal" href="libptp/parser.html#libptp.parser.AbstractParser" title="libptp.parser.AbstractParser"><tt class="xref py py-class docutils literal"><span class="pre">libptp.parser.AbstractParser</span></tt></a>.</p>
<p>That way, we do not need to know if the report we want to parse has been
generated by <a class="reference external" href="http://w3af.org/">W3AF</a>, <a class="reference external" href="https://www.owasp.org/index.php/Category:OWASP_DirBuster_Project">DirBuster</a> or even
<a class="reference external" href="https://code.google.com/p/skipfish/">Skipfish</a>.</p>
<p>Example:</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ptp</span> <span class="kn">import</span> <span class="n">PTP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span> <span class="o">=</span> <span class="n">PTP</span><span class="p">(</span><span class="n">pathname</span><span class="o">=</span><span class="s">&#39;my/directory&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;my_report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
<span class="go">[{&#39;ranking&#39;: 4}, ..., {&#39;ranking&#39;: 3}, ..., {&#39;ranking&#39;: 1}]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In the example above, the filename could have been omitted. In that case,
<a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a> would have recursively walked into the directory <cite>pathname</cite>
until a file would have matched one supported tool.</p>
<p>For instance, we could have done:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ptp</span> <span class="kn">import</span> <span class="n">PTP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span> <span class="o">=</span> <span class="n">PTP</span><span class="p">(</span><span class="n">pathname</span><span class="o">=</span><span class="s">&#39;my/directory&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
<span class="go">[{&#39;ranking&#39;: 4}, ..., {&#39;ranking&#39;: 3}, ..., {&#39;ranking&#39;: 1}]</span>
</pre></div>
</div>
<p class="last">Be careful though, when omitting the <cite>filename</cite> parameter, <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a> will
stop as soon as a supported report file will be found! (i.e.  <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a>
will not parse all the files in the <cite>pathname</cite> directory.)</p>
</div>
<p>If we are only looking for the highest risk that is listed in the report, we
can use the following function:</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span><span class="o">.</span><span class="n">get_highest_ranking</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">libptp.constants</span> <span class="kn">import</span> <span class="n">HIGH</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span><span class="o">.</span><span class="n">get_highest_ranking</span><span class="p">()</span> <span class="o">==</span> <span class="n">HIGH</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To know the possible ranking values, please refer to the
<a class="reference internal" href="libptp/constants.html"><em>Constants</em></a> section.</p>
</div>
</div>
<div class="section" id="explicit-mode">
<h2>Explicit mode<a class="headerlink" href="#explicit-mode" title="Permalink to this headline">¶</a></h2>
<p>If we already know which tool has generated the report, we can explicitly give
that information to <a class="reference internal" href="ptp.html#ptp.PTP" title="ptp.PTP"><tt class="xref py py-class docutils literal"><span class="pre">ptp.PTP</span></tt></a>. That will even speed up the whole process
since it will not have to lookup for the right parser.</p>
<p>The list of the supported tools can be found like below:</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">PTP</span><span class="o">.</span><span class="n">supported</span>
<span class="go">{</span>
<span class="go">    &#39;arachni&#39;: [&lt;class &#39;libptp.tools.arachni.parser.ArachniXMLParser&#39;&gt;],</span>
<span class="go">    &#39;dirbuster&#39;: [&lt;class &#39;libptp.tools.dirbuster.parser.DirbusterParser&#39;&gt;],</span>
<span class="go">    &#39;metasploit&#39;: [&lt;class &#39;libptp.tools.metasploit.parser.MetasploitParser&#39;&gt;],</span>
<span class="go">    &#39;nmap&#39;: [&lt;class &#39;libptp.tools.nmap.parser.NmapXMLParser&#39;&gt;],</span>
<span class="go">        &lt;class &#39;libptp.tools.wapiti.parser.WapitiXMLParser&#39;&gt;,</span>
<span class="go">        &lt;class &#39;libptp.tools.wapiti.parser.Wapiti221XMLParser&#39;&gt;</span>
<span class="go">    ],</span>
<span class="go">    &#39;owasp-cm-008&#39;: [&lt;class &#39;libptp.tools.owasp.cm008.parser.OWASPCM008Parser&#39;&gt;],</span>
<span class="go">    &#39;robots&#39;: [&lt;class &#39;libptp.tools.robots.parser.RobotsParser&#39;&gt;]</span>
<span class="go">    &#39;skipfish&#39;: [&lt;class &#39;libptp.tools.skipfish.parser.SkipfishJSParser&#39;&gt;],</span>
<span class="go">    &#39;wapiti&#39;: [</span>
<span class="go">    &#39;w3af&#39;: [&lt;class &#39;libptp.tools.w3af.parser.W3AFXMLParser&#39;&gt;],</span>
<span class="go">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The current support to Nmap does not provide any ranking yet.
Refer to the <a class="reference internal" href="tools/nmap.html"><em>Nmap</em></a> section for more information.</p>
</div>
<p>Example:</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span> <span class="o">=</span> <span class="n">PTP</span><span class="p">(</span><span class="s">&#39;skipfish&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">pathname</span><span class="o">=</span><span class="s">&#39;my/other/directory&#39;</span><span class="p">)</span>
<span class="go">[{&#39;ranking&#39;: 2}, {&#39;ranking&#39;: 2}, {&#39;ranking&#39;: 1}]</span>
</pre></div>
</div>
</div>
<div class="section" id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<p>If we are interested in the name of the tool that generated the report, it is
stored in the <a class="reference internal" href="ptp.html#ptp.PTP.tool_name" title="ptp.PTP.tool_name"><tt class="xref py py-attr docutils literal"><span class="pre">ptp.PTP.tool_name</span></tt></a> attribute and can be retrieved like
below:</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">myptp</span><span class="o">.</span><span class="n">tool_name</span><span class="p">)</span>
<span class="go">arachni  # In our case, it is Arachni that has generated our report.</span>
</pre></div>
</div>
<p>We can also retrieve the list of the vulnerabilities thanks to the
<a class="reference internal" href="ptp.html#ptp.PTP.vulns" title="ptp.PTP.vulns"><tt class="xref py py-attr docutils literal"><span class="pre">ptp.PTP.vulns</span></tt></a> attribute:</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span><span class="o">.</span><span class="n">vulns</span>
<span class="go">[{&#39;ranking&#39;: 4}, ..., {&#39;ranking&#39;: 3}, ..., {&#39;ranking&#39;: 1}]</span>
</pre></div>
</div>
<p>And the metadata thanks to the <a class="reference internal" href="ptp.html#ptp.PTP.metadata" title="ptp.PTP.metadata"><tt class="xref py py-attr docutils literal"><span class="pre">ptp.PTP.metadata</span></tt></a> attribute.</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myptp</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">{&#39;version&#39;: &#39;a.b&#39;}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="unit-tests">
<h1>Unit tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="ptp.html#module-ptp" title="ptp"><tt class="xref py py-mod docutils literal"><span class="pre">ptp</span></tt></a> module can be tested by running the <cite>run_tests.py</cite> python script
under the sub-directory <cite>ptp/</cite>.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./run_tests.py
</pre></div>
</div>
<p>This script will run every existing unit tests that have been created for the
module. If an error occurs, the string <cite>FAIL</cite> will be outputted in the
terminal.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>It is possible to specify which unit test to run by specifying the name of
the tool.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./run_tests.py arachni
</pre></div>
</div>
<p class="last">Using the command above only runs the unit tests for Arachni.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome!</a><ul>
<li><a class="reference internal" href="#owasp-owtf-in-a-word">OWASP - OWTF in a word</a></li>
<li><a class="reference internal" href="#the-goals-aimed-by-ptp">The goals aimed by <tt class="docutils literal"><span class="pre">ptp</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#basic-usages">Basic usages</a><ul>
<li><a class="reference internal" href="#auto-detection-mode">Auto-detection mode</a></li>
<li><a class="reference internal" href="#explicit-mode">Explicit mode</a></li>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unit-tests">Unit tests</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Getting started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="contribute.html"
                        title="next chapter">Write our own support</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/gettingstarted.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contribute.html" title="Write our own support"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Getting started"
             >previous</a> |</li>
        <li><a href="index.html">ptp 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Tao Sauvage.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>